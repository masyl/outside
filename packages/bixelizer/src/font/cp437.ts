/**
 * CP437 to Unicode code point mapping.
 * Index = CP437 byte value (0–255), value = Unicode code point.
 *
 * Source: https://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/PC/CP437.TXT
 *
 * Positions 0x00–0x1F and 0x7F use the visible CP437 graphic characters
 * (the ones the IBM BIOS actually renders), not the C0 control meanings.
 */
export const CP437_TO_UNICODE: number[] = [
  // 0x00–0x0F
  0x0000, // NULL → null (blank/space in most fonts)
  0x263a, // ☺ WHITE SMILING FACE
  0x263b, // ☻ BLACK SMILING FACE
  0x2665, // ♥ BLACK HEART SUIT
  0x2666, // ♦ BLACK DIAMOND SUIT
  0x2663, // ♣ BLACK CLUB SUIT
  0x2660, // ♠ BLACK SPADE SUIT
  0x2022, // • BULLET
  0x25d8, // ◘ INVERSE BULLET
  0x25cb, // ○ WHITE CIRCLE
  0x25d9, // ◙ INVERSE WHITE CIRCLE
  0x2642, // ♂ MALE SIGN
  0x2640, // ♀ FEMALE SIGN
  0x266a, // ♪ EIGHTH NOTE
  0x266b, // ♫ BEAMED EIGHTH NOTES
  0x263c, // ☼ WHITE SUN WITH RAYS
  // 0x10–0x1F
  0x25ba, // ► BLACK RIGHT-POINTING POINTER
  0x25c4, // ◄ BLACK LEFT-POINTING POINTER
  0x2195, // ↕ UP DOWN ARROW
  0x203c, // ‼ DOUBLE EXCLAMATION MARK
  0x00b6, // ¶ PILCROW SIGN
  0x00a7, // § SECTION SIGN
  0x25ac, // ▬ BLACK RECTANGLE
  0x21a8, // ↨ UP DOWN ARROW WITH BASE
  0x2191, // ↑ UPWARDS ARROW
  0x2193, // ↓ DOWNWARDS ARROW
  0x2192, // → RIGHTWARDS ARROW
  0x2190, // ← LEFTWARDS ARROW
  0x221f, // ∟ RIGHT ANGLE
  0x2194, // ↔ LEFT RIGHT ARROW
  0x25b2, // ▲ BLACK UP-POINTING TRIANGLE
  0x25bc, // ▼ BLACK DOWN-POINTING TRIANGLE
  // 0x20–0x2F (standard ASCII printable)
  0x0020, // SPACE
  0x0021, // !
  0x0022, // "
  0x0023, // #
  0x0024, // $
  0x0025, // %
  0x0026, // &
  0x0027, // '
  0x0028, // (
  0x0029, // )
  0x002a, // *
  0x002b, // +
  0x002c, // ,
  0x002d, // -
  0x002e, // .
  0x002f, // /
  // 0x30–0x3F
  0x0030, // 0
  0x0031, // 1
  0x0032, // 2
  0x0033, // 3
  0x0034, // 4
  0x0035, // 5
  0x0036, // 6
  0x0037, // 7
  0x0038, // 8
  0x0039, // 9
  0x003a, // :
  0x003b, // ;
  0x003c, // <
  0x003d, // =
  0x003e, // >
  0x003f, // ?
  // 0x40–0x4F
  0x0040, // @
  0x0041, // A
  0x0042, // B
  0x0043, // C
  0x0044, // D
  0x0045, // E
  0x0046, // F
  0x0047, // G
  0x0048, // H
  0x0049, // I
  0x004a, // J
  0x004b, // K
  0x004c, // L
  0x004d, // M
  0x004e, // N
  0x004f, // O
  // 0x50–0x5F
  0x0050, // P
  0x0051, // Q
  0x0052, // R
  0x0053, // S
  0x0054, // T
  0x0055, // U
  0x0056, // V
  0x0057, // W
  0x0058, // X
  0x0059, // Y
  0x005a, // Z
  0x005b, // [
  0x005c, // \
  0x005d, // ]
  0x005e, // ^
  0x005f, // _
  // 0x60–0x6F
  0x0060, // `
  0x0061, // a
  0x0062, // b
  0x0063, // c
  0x0064, // d
  0x0065, // e
  0x0066, // f
  0x0067, // g
  0x0068, // h
  0x0069, // i
  0x006a, // j
  0x006b, // k
  0x006c, // l
  0x006d, // m
  0x006e, // n
  0x006f, // o
  // 0x70–0x7F
  0x0070, // p
  0x0071, // q
  0x0072, // r
  0x0073, // s
  0x0074, // t
  0x0075, // u
  0x0076, // v
  0x0077, // w
  0x0078, // x
  0x0079, // y
  0x007a, // z
  0x007b, // {
  0x007c, // |
  0x007d, // }
  0x007e, // ~
  0x2302, // ⌂ HOUSE (DEL position)
  // 0x80–0x8F
  0x00c7, // Ç
  0x00fc, // ü
  0x00e9, // é
  0x00e2, // â
  0x00e4, // ä
  0x00e0, // à
  0x00e5, // å
  0x00e7, // ç
  0x00ea, // ê
  0x00eb, // ë
  0x00e8, // è
  0x00ef, // ï
  0x00ee, // î
  0x00ec, // ì
  0x00c4, // Ä
  0x00c5, // Å
  // 0x90–0x9F
  0x00c9, // É
  0x00e6, // æ
  0x00c6, // Æ
  0x00f4, // ô
  0x00f6, // ö
  0x00f2, // ò
  0x00fb, // û
  0x00f9, // ù
  0x00ff, // ÿ
  0x00d6, // Ö
  0x00dc, // Ü
  0x00a2, // ¢
  0x00a3, // £
  0x00a5, // ¥
  0x20a7, // ₧
  0x0192, // ƒ
  // 0xA0–0xAF
  0x00e1, // á
  0x00ed, // í
  0x00f3, // ó
  0x00fa, // ú
  0x00f1, // ñ
  0x00d1, // Ñ
  0x00aa, // ª
  0x00ba, // º
  0x00bf, // ¿
  0x2310, // ⌐
  0x00ac, // ¬
  0x00bd, // ½
  0x00bc, // ¼
  0x00a1, // ¡
  0x00ab, // «
  0x00bb, // »
  // 0xB0–0xBF (box drawing / block elements)
  0x2591, // ░
  0x2592, // ▒
  0x2593, // ▓
  0x2502, // │
  0x2524, // ┤
  0x2561, // ╡
  0x2562, // ╢
  0x2556, // ╖
  0x2555, // ╕
  0x2563, // ╣
  0x2551, // ║
  0x2557, // ╗
  0x255d, // ╝
  0x255c, // ╜
  0x255b, // ╛
  0x2510, // ┐
  // 0xC0–0xCF
  0x2514, // └
  0x2534, // ┴
  0x252c, // ┬
  0x251c, // ├
  0x2500, // ─
  0x253c, // ┼
  0x255e, // ╞
  0x255f, // ╟
  0x255a, // ╚
  0x2554, // ╔
  0x2569, // ╩
  0x2566, // ╦
  0x2560, // ╠
  0x2550, // ═
  0x256c, // ╬
  0x2567, // ╧
  // 0xD0–0xDF
  0x2568, // ╨
  0x2564, // ╤
  0x2565, // ╥
  0x2559, // ╙
  0x2558, // ╘
  0x2552, // ╒
  0x2553, // ╓
  0x256b, // ╫
  0x256a, // ╪
  0x2518, // ┘
  0x250c, // ┌
  0x2588, // █
  0x2584, // ▄
  0x258c, // ▌
  0x2590, // ▐
  0x2580, // ▀
  // 0xE0–0xEF
  0x03b1, // α
  0x00df, // ß
  0x0393, // Γ
  0x03c0, // π
  0x03a3, // Σ
  0x03c3, // σ
  0x00b5, // µ
  0x03c4, // τ
  0x03a6, // Φ
  0x0398, // Θ
  0x03a9, // Ω
  0x03b4, // δ
  0x221e, // ∞
  0x03c6, // φ
  0x03b5, // ε
  0x2229, // ∩
  // 0xF0–0xFF
  0x2261, // ≡
  0x00b1, // ±
  0x2265, // ≥
  0x2264, // ≤
  0x2320, // ⌠
  0x2321, // ⌡
  0x00f7, // ÷
  0x2248, // ≈
  0x00b0, // °
  0x2219, // ∙
  0x00b7, // ·
  0x221a, // √
  0x207f, // ⁿ
  0x00b2, // ²
  0x25a0, // ■
  0x00a0, // NO-BREAK SPACE
];

/** Set of Unicode code points in CP437, for quick lookup. */
export const CP437_UNICODE_SET: Set<number> = new Set(CP437_TO_UNICODE);

/** Map from Unicode code point to CP437 index (0–255). */
export const UNICODE_TO_CP437: Map<number, number> = new Map(
  CP437_TO_UNICODE.map((cp, idx) => [cp, idx])
);
